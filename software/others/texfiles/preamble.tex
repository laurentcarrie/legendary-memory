%\usepackage[margin=0.5cm]{geometry}
\usepackage[left=1cm,right=1cm,top=1cm,bottom=2cm]{geometry}
\usepackage[utf8]{inputenc}
%\usepackage[light, largesmallcaps]{kpfonts}
\usepackage{mwe}
\usepackage{multicol}
\usepackage{pgfkeys}

%\usepackage{geometry}
\usepackage{lipsum}
\usepackage{microtype}
\usepackage{grid-system}
\usepackage{babel}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{verse}
\usepackage{setspace}

\usepackage{aurical}
\usepackage[T1]{fontenc}
%\usepackage{css-colors}
\usepackage{latexcolors}
%\usepackage[table,svgnames]{xcolor}
% \usepackage{tabularray}
\usepackage{nicematrix}

% we want only the chapters in the toc, for books. No toc for rsongs
%\setcounter{tocdepth}{1}
\usepackage{amssymb}
\usepackage[default]{frcursive}

\usepackage{fancyhdr}
\usepackage{lastpage}
\pagestyle{fancy}
\fancyhf{}
%\usepackage{tabularx}
\usepackage[most]{tcolorbox}

\usepackage{booktabs}
\usepackage{array}
\usepackage{paracol}

\usepackage{hyperref}
\hypersetup{
	colorlinks,
	citecolor=black,
	filecolor=black,
	linkcolor=black,
	urlcolor=black
}

\usepackage{units}

\usepackage[most]{tcolorbox}
\usepackage{tikz, adjustbox}

%\setlength{\headheight}{10pt}
\usepackage[normalem]{ulem}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{2pt}

%\lhead{\includegraphics[width=1cm]{example-image-a}}
\rhead{}

\newcommand{\songbooksongstruct}[1]{
	\input{song.tikz}
}


\rfoot{\thepage/\pageref{LastPage}}
%\cfoot{\today}
%\cfoot{derni\`ere modif le \songlastupdate, g\'en\'er\'e le \songtoday }
%\cfoot{derni\`ere modif le \songlastupdate }

\definecolor{bg}{HTML}{ADFF2F}
%\definecolor{bgred}{\color{Seashell3}}

\usepackage{fontspec}
\setmainfont{Garamond Libre}

% pour les lignes pointill√©es dans les tableaux
% \usepackage{arydshln}

\newcommand{\songbookcomment}[1]{{
			\fontsize{8pt}{8pt}\selectfont
			\textcolor{red}{#1}}
}

\newcommand{\basecouplet}[3]{
	\fcolorbox{gray}{#1}{
		\fontsize{18pt}{18pt}\selectfont
		#2
	}
	{
		{
				\fontsize{16pt}{16pt}\selectfont
				#3
			}
	}
}

\newcommand{\basetitle}[2]{
	\colorbox{#1}{
		\fontsize{12pt}{12pt}\selectfont
		#2
	}
}

\renewcommand{\xxcfoot}[2]{
\cfoot{{
		\Fontskrivan\bfseries\slshape
		\fontsize{14pt}{14pt}\selectfont
		\color{blue}
		#2
	}
	{
		\cursive\bfseries
		\fontsize{10pt}{10pt}\selectfont
		\color{orange}
		#1
	}
; {\fontsize{10pt}{10pt}\selectfont derni\`ere modif le \songlastupdate}
}
}


\newcommand{\xxmakesongtitle}[3] {
	\begin{center}
		{
			\Fontskrivan\bfseries\slshape
			\fontsize{60pt}{50pt}\selectfont
			\color{blue}
			#1
		} \\


		{
		\Fontskrivan\bfseries\slshape
		\fontsize{20pt}{10pt}\selectfont
		\color{orange}
		#2
		}
		{
		%\Fontskrivan\bfseries\slshape
		\fontsize{10pt}{5pt}\selectfont
		\color{blue}
		#3 BPM
		}\\
	\end{center}

}




\newcommand{\makefooter}[2]{
	\lfoot{#1/#2}
	%/\loloprintbpm{#3}{#4}{#5}}
}


\newcommand\songbookhr{
	\begin{center}
		\line(1,0){250}
	\end{center}
}

\newcommand{\songlyrics}{}

\newcommand{\songly}[1]{ %
	\subimport{#1.output}{#1}
}

\newcommand{\songfirstbeat}[1]{%
\begin{tikzpicture}%
	\draw[red, fill=red] (0,0) circle[radius=1pt];% test of the radius size
\end{tikzpicture}%
{\color{red}\bf\it\underline{#1}}%
%#1%
\begin{tikzpicture}%
	\draw[green, fill=green] (0,0) circle[radius=1pt];% test of the radius size
\end{tikzpicture}%
}


\newcommand{\fixedWidth}{.5cm}
\newcommand{\fixedHeigth}{.65cm}


\tikzset{
	direct/.style={
			rectangle,
			%		minimum height=\fixedHeigth,
			minimum width=\fixedWidth,
			%		rounded corners=4.4mm,
			%		fill=red!15,
			%		draw,
			%		thick
		},
	fontsmaller/.style={font=\smaller[#1]}
}

\tikzset{
	firstbar/.style={
			rectangle,
			%		minimum height=\fixedHeigth,
			minimum width=\fixedWidth,
			rounded corners=2.0mm,
			fill=red!15,
			draw=red,
			%		thick
		},
	fontsmaller/.style={font=\smaller[#1]}
}



\tikzset{
	levee/.style={
			rectangle,
			%		minimum height=\fixedHeigth,
			minimum width=\fixedWidth,
			inner ysep=0,
			%		rounded corners=4.4mm,
			fill=blue!15,
			%		color=blue!15,
			draw,
			%		thick
		},
	fontsmaller/.style={font=\smaller[#1]}
}


\newcommand{\songword}[1]{%
	%\tikz[]\node [direct] (N2) {#1};%
	#1%
}

% songworkd first beat
\newcommand{\songwordfb}[1]{%
	%\tikz[]\node [firstbar] (N1) {#1};%
	\fcolorbox{black}{red!20}{#1}%
}

%levee
\newcommand{\songwordl}[1]{%
	%\fcolorbox{black}{blue!10}{$[$\it #1$]$}%
	%\tikz[]\node [levee] (N1) {#1};%
	{\color{blue!60}{$[${\it #1}$]$}}%
}

\newcommand{\songwordcount}[1]{
	\textsubscript{\tiny\color{red}#1}%
}


\definecolor{background_color}{rgb}{0.95,0.95,0.95}
\definecolor{icons}{HTML}{46A247}

\newtcolorbox{emph_box}[1][]{%
	enhanced,
	before skip=2mm,after skip=2mm,
	boxrule=0.6pt,
	colback=background_color, colframe=icons, % Colors
	%	attach boxed title to top left={xshift=0cm,yshift*=0mm-\tcboxedtitleheight},
	attach boxed title to top left={xshift=\textwidth/2,yshift*=0mm-\tcboxedtitleheight},
	varwidth boxed title*=-3cm,
	% The titlebox:
	%    boxed title style={frame code={%
	%        \path[left color=icons,right color=icons,
	%        middle color=icons]
	%        ([xshift=-0mm]frame.north west) -- ([xshift=0mm]frame.north east)
	%        [rounded corners=0mm]-- ([xshift=0mm,yshift=0mm]frame.north east)
	%        -- (frame.south east) -- (frame.south west)
	%        -- ([xshift=0mm,yshift=0mm]frame.north west)
	%        [sharp corners]-- cycle;
	%        },interior engine=empty,
	%    },
	boxed title style={sharp corners=uphill, colback=icons},
	width=\textwidth/2,

	arc is curved,
	arc = 1.5mm,
	fonttitle=\bfseries,
	title={#1}
}



\newtcolorbox{mybox}[2][]{%
	enhanced,
	boxsep=3pt,
	arc=1.25ex,
	colback=white,
	colframe=blue,
	boxrule=3pt,
	leftrule=18pt,
	overlay unbroken and first ={%
			\node[rotate=90,
				minimum width=1cm,
				anchor=south,
				font=\Large\sffamily\bfseries,
				yshift=-18pt,
				%			xshift=6cm,
				white]
			at (frame.west) {#2};
		}
}
